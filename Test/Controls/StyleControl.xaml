<!-- Copyright (c) Wiesław Šoltés. All rights reserved. -->
<!-- Licensed under the MIT license. See LICENSE file in the project root for full license information. -->
<UserControl x:Class="Test.Controls.StyleControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:core="clr-namespace:Test2d;assembly=Test2d"
             xmlns:controls="clr-namespace:Test.Controls"
             mc:Ignorable="d" 
             d:DesignHeight="400" d:DesignWidth="180">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Test;component/Dictionaries/StyleDictionary.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <StackPanel>
        <Expander Header="Name" IsExpanded="True">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="30"/>
                </Grid.ColumnDefinitions>
                <TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged, Delay=500}" 
                         BorderBrush="{x:Null}" 
                         Grid.Row="0" 
                         Grid.Column="0" 
                         Grid.ColumnSpan="2"
                         TextAlignment="Left" 
                         VerticalAlignment="Center">
                </TextBox>
            </Grid>
        </Expander>
        <Expander Header="Stroke" IsExpanded="False">
            <ContentControl Content="{Binding Stroke}"/>
        </Expander>
        <Expander Header="Fill" IsExpanded="False">
            <ContentControl Content="{Binding Fill}"/>
        </Expander>
        <Expander Header="Thickness" IsExpanded="False">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="30"/>
                </Grid.ColumnDefinitions>
                <Slider Value="{Binding Thickness}" 
                        Minimum="0" 
                        Maximum="50" 
                        TickFrequency="0.1" 
                        SmallChange="0.1" 
                        LargeChange="1" 
                        IsSnapToTickEnabled="True" 
                        Grid.Row="0" 
                        Grid.Column="0" 
                        Margin="1">
                </Slider>
                <TextBox Text="{Binding Thickness, UpdateSourceTrigger=PropertyChanged, Delay=500}" 
                         BorderBrush="{x:Null}" 
                         Grid.Row="0" 
                         Grid.Column="1" 
                         TextAlignment="Center" 
                         VerticalAlignment="Center">
                </TextBox>
            </Grid>
        </Expander>
        <Expander Header="Text" IsExpanded="False">
            <ContentControl Content="{Binding TextStyle}"/>
        </Expander>
        <Expander Header="Line Start" IsExpanded="False">
            <ContentControl Content="{Binding LineStyle.StartArrowStyle}"/>
        </Expander>
        <Expander Header="Line End" IsExpanded="False">
            <ContentControl Content="{Binding LineStyle.EndArrowStyle}"/>
        </Expander>
        <Expander Header="Line" IsExpanded="False">
            <Expander.Resources>
                <controls:DoubleToStringConverter x:Key="DoubleToStringConverter"/>
            </Expander.Resources>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="30"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Line Cap" 
                           Margin="0,0,2,0" 
                           Grid.Row="0"
                           Grid.Column="0" 
                           TextAlignment="Left" 
                           VerticalAlignment="Center">
                </TextBlock>
                <TextBlock Text="Dashes" 
                           Margin="0,0,2,0" 
                           Grid.Row="2" 
                           Grid.Column="0" 
                           TextAlignment="Left" 
                           VerticalAlignment="Center">
                </TextBlock>
                <TextBlock Text="Dash Offset" 
                           Margin="0,0,2,0" 
                           Grid.Row="3" 
                           Grid.Column="0" 
                           TextAlignment="Left" 
                           VerticalAlignment="Center">
                </TextBlock>
                <ComboBox ItemsSource="{Binding Source={StaticResource ResourceKey=LineCapValues}}" 
                          SelectedItem="{Binding LineStyle.LineCap}" 
                          Grid.Row="0" 
                          Grid.Column="1" 
                          Grid.ColumnSpan="2"
                          Margin="0,1,0,1">
                </ComboBox>
                <Slider Value="{Binding LineStyle.DashOffset}" 
                        Minimum="0" 
                        Maximum="15" 
                        TickFrequency="0.1" 
                        SmallChange="0.1"
                        LargeChange="1"
                        IsSnapToTickEnabled="True" 
                        Grid.Row="3" 
                        Grid.Column="1" 
                        Margin="1">
                </Slider>
                <TextBox Text="{Binding LineStyle.Dashes, Converter={StaticResource DoubleToStringConverter}}" 
                         BorderBrush="{x:Null}" 
                         Grid.Row="2" 
                         Grid.Column="1" 
                         Grid.ColumnSpan="2"
                         TextAlignment="Center" 
                         VerticalAlignment="Center">
                </TextBox>
                <TextBox Text="{Binding LineStyle.DashOffset, UpdateSourceTrigger=PropertyChanged, Delay=500}" 
                         BorderBrush="{x:Null}" 
                         Grid.Row="3" 
                         Grid.Column="2" 
                         TextAlignment="Center" 
                         VerticalAlignment="Center">
                </TextBox>
            </Grid>
        </Expander>
    </StackPanel>
</UserControl>
