package Core2D;
import "bcl.proto"; // schema for protobuf-net's handling of core .NET types

message ArgbColor {
   optional uint32 A = 1;
   optional uint32 R = 2;
   optional uint32 G = 3;
   optional uint32 B = 4;
}
message ArrowStyle {
   optional ArrowType ArrowType = 1;
   optional bool IsStroked = 2;
   optional bool IsFilled = 3;
   optional double RadiusX = 4;
   optional double RadiusY = 5;
}
enum ArrowType {
   None = 0;
   Rectangle = 1;
   Ellipse = 2;
   Arrow = 3;
}
message BaseShape {
   optional string Name = 1;
   optional bcl.NetObjectProxy Owner = 2; // reference-tracked BaseShape
   optional bcl.NetObjectProxy State = 3; // reference-tracked ShapeState
   optional bcl.NetObjectProxy Style = 4; // reference-tracked BaseStyle
   optional bool IsStroked = 5;
   optional bool IsFilled = 6;
   optional bcl.NetObjectProxy Data = 7; // reference-tracked Data
   // the following represent sub-types; at most 1 should have a value
   optional XPoint XPoint = 101;
   optional XLine XLine = 102;
   optional XCubicBezier XCubicBezier = 103;
   optional XQuadraticBezier XQuadraticBezier = 104;
   optional XArc XArc = 105;
   optional XPath XPath = 106;
   optional XText XText = 107;
   optional XGroup XGroup = 108;
}
message BaseStyle {
   optional string Name = 1;
   optional bcl.NetObjectProxy Stroke = 2; // reference-tracked ArgbColor
   optional bcl.NetObjectProxy Fill = 3; // reference-tracked ArgbColor
   optional double Thickness = 4;
   optional LineCap LineCap = 5;
   optional string Dashes = 6;
   optional double DashOffset = 7;
   // the following represent sub-types; at most 1 should have a value
   optional ArrowStyle ArrowStyle = 101;
   optional ShapeStyle ShapeStyle = 102;
}
message Column {
   optional bcl.Guid Id = 1;
   optional string Name = 2;
   optional double Width = 3;
   optional bool IsVisible = 4;
   optional bcl.NetObjectProxy Owner = 5; // reference-tracked Database
}
message Container {
   optional string Name = 1;
   optional double Width = 2;
   optional double Height = 3;
   optional bcl.NetObjectProxy Background = 4; // reference-tracked ArgbColor
   repeated bcl.NetObjectProxy Layers = 5; // reference-tracked Selectable
   optional bcl.NetObjectProxy CurrentLayer = 6; // reference-tracked Selectable
   optional bcl.NetObjectProxy WorkingLayer = 7; // reference-tracked Selectable
   optional bcl.NetObjectProxy HelperLayer = 8; // reference-tracked Selectable
   optional bcl.NetObjectProxy CurrentShape = 9; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Template = 10; // reference-tracked Selectable
   // the following represent sub-types; at most 1 should have a value
   optional Template Template = 101;
   optional Page Page = 102;
}
message Data {
   repeated bcl.NetObjectProxy Properties = 1; // reference-tracked Property
   optional bcl.NetObjectProxy Record = 2; // reference-tracked Record
}
message Database {
   optional string Name = 1;
   optional string IdColumnName = 2;
   repeated bcl.NetObjectProxy Columns = 3; // reference-tracked Column
   repeated bcl.NetObjectProxy Records = 4; // reference-tracked Record
   optional bcl.NetObjectProxy CurrentRecord = 5; // reference-tracked Record
}
message Document {
   optional string Name = 1;
   optional bool IsExpanded = 2;
   repeated bcl.NetObjectProxy Pages = 3; // reference-tracked Selectable
}
message FontStyle {
   optional FontStyleFlags Flags = 1;
}
enum FontStyleFlags {
   // this is a composite/flags enumeration
   Regular = 0;
   Bold = 1;
   Italic = 2;
   Underline = 4;
   Strikeout = 8;
}
message History {
}
message IHistory {
   // the following represent sub-types; at most 1 should have a value
   optional History History = 101;
}
message Layer {
   optional string Name = 1;
   optional bcl.NetObjectProxy Owner = 2; // reference-tracked Selectable
   optional bool IsVisible = 3;
   repeated bcl.NetObjectProxy Shapes = 4; // reference-tracked BaseShape
}
message Library_ShapeStyle {
   optional string Name = 1;
   repeated bcl.NetObjectProxy Items = 2; // reference-tracked BaseStyle
   optional bcl.NetObjectProxy Selected = 3; // reference-tracked BaseStyle
}
message Library_XGroup {
   optional string Name = 1;
   repeated bcl.NetObjectProxy Items = 2; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Selected = 3; // reference-tracked BaseShape
}
enum LineCap {
   Flat = 0;
   Square = 1;
   Round = 2;
}
message LineFixedLength {
   optional LineFixedLengthFlags Flags = 1;
   optional bcl.NetObjectProxy StartTrigger = 2; // reference-tracked ShapeState
   optional bcl.NetObjectProxy EndTrigger = 3; // reference-tracked ShapeState
}
enum LineFixedLengthFlags {
   // this is a composite/flags enumeration
   Disabled = 0;
   Start = 1;
   End = 2;
   Vertical = 4;
   Horizontal = 8;
   All = 16;
}
message LineStyle {
   optional string Name = 1;
   optional bcl.NetObjectProxy FixedLength = 2; // reference-tracked LineFixedLength
}
enum MoveMode {
   Point = 0;
   Shape = 1;
}
message Options {
   optional bool SnapToGrid = 1;
   optional double SnapX = 2;
   optional double SnapY = 3;
   optional double HitThreshold = 4;
   optional MoveMode MoveMode = 5;
   optional bool DefaultIsStroked = 6;
   optional bool DefaultIsFilled = 7;
   optional bool DefaultIsClosed = 8;
   optional bool DefaultIsSmoothJoin = 9;
   optional XFillRule DefaultFillRule = 10;
   optional bool TryToConnect = 11;
   optional bcl.NetObjectProxy PointShape = 12; // reference-tracked BaseShape
   optional bcl.NetObjectProxy PointStyle = 13; // reference-tracked BaseStyle
   optional bcl.NetObjectProxy SelectionStyle = 14; // reference-tracked BaseStyle
   optional bcl.NetObjectProxy HelperStyle = 15; // reference-tracked BaseStyle
}
message Page {
   optional bcl.NetObjectProxy Data = 1; // reference-tracked Data
   optional bool IsExpanded = 2;
}
message Project {
   optional string Name = 1;
   optional bcl.NetObjectProxy Options = 2; // reference-tracked Options
   optional bcl.NetObjectProxy History = 3; // reference-tracked IHistory
   repeated bcl.NetObjectProxy StyleLibraries = 4; // reference-tracked Library_ShapeStyle
   repeated bcl.NetObjectProxy GroupLibraries = 5; // reference-tracked Library_XGroup
   repeated bcl.NetObjectProxy Databases = 6; // reference-tracked Database
   repeated bcl.NetObjectProxy Templates = 7; // reference-tracked Selectable
   repeated bcl.NetObjectProxy Documents = 8; // reference-tracked Selectable
   optional bcl.NetObjectProxy CurrentStyleLibrary = 9; // reference-tracked Library_ShapeStyle
   optional bcl.NetObjectProxy CurrentGroupLibrary = 10; // reference-tracked Library_XGroup
   optional bcl.NetObjectProxy CurrentDatabase = 11; // reference-tracked Database
   optional bcl.NetObjectProxy CurrentTemplate = 12; // reference-tracked Selectable
   optional bcl.NetObjectProxy CurrentDocument = 13; // reference-tracked Selectable
   optional bcl.NetObjectProxy CurrentContainer = 14; // reference-tracked Selectable
   optional bcl.NetObjectProxy Selected = 15; // reference-tracked Selectable
}
message Property {
   optional string Name = 1;
   optional bcl.NetObjectProxy Value = 2; // reference-tracked string
   optional bcl.NetObjectProxy Owner = 3; // reference-tracked Data
}
message Record {
   optional bcl.Guid Id = 1;
   repeated bcl.NetObjectProxy Columns = 2; // reference-tracked Column
   repeated bcl.NetObjectProxy Values = 3; // reference-tracked Value
   optional bcl.NetObjectProxy Owner = 4; // reference-tracked Database
}
message Selectable {
   // the following represent sub-types; at most 1 should have a value
   optional Layer Layer = 101;
   optional Container Container = 102;
   optional Document Document = 103;
   optional Project Project = 104;
}
message ShapeState {
   optional ShapeStateFlags Flags = 1;
}
enum ShapeStateFlags {
   // this is a composite/flags enumeration
   Default = 0;
   Visible = 1;
   Printable = 2;
   Locked = 4;
   Connector = 8;
   None = 16;
   Standalone = 32;
   Input = 64;
   Output = 128;
}
message ShapeStyle {
   optional bcl.NetObjectProxy LineStyle = 1; // reference-tracked LineStyle
   optional bcl.NetObjectProxy StartArrowStyle = 2; // reference-tracked BaseStyle
   optional bcl.NetObjectProxy EndArrowStyle = 3; // reference-tracked BaseStyle
   optional bcl.NetObjectProxy TextStyle = 4; // reference-tracked TextStyle
}
message Template {
}
enum TextHAlignment {
   Left = 0;
   Center = 1;
   Right = 2;
}
message TextStyle {
   optional string Name = 1;
   optional string FontName = 2;
   optional string FontFile = 3;
   optional double FontSize = 4;
   optional bcl.NetObjectProxy FontStyle = 5; // reference-tracked FontStyle
   optional TextHAlignment TextHAlignment = 6;
   optional TextVAlignment TextVAlignment = 7;
}
enum TextVAlignment {
   Top = 0;
   Center = 1;
   Bottom = 2;
}
message Value {
   optional string Content = 1;
}
message XArc {
   optional bcl.NetObjectProxy Point1 = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point2 = 2; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point3 = 3; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point4 = 4; // reference-tracked BaseShape
}
message XArcSegment {
   optional bcl.NetObjectProxy Point = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Size = 2; // reference-tracked XPathSize
   optional double RotationAngle = 3;
   optional bool IsLargeArc = 4;
   optional XSweepDirection SweepDirection = 5;
}
message XCubicBezier {
   optional bcl.NetObjectProxy Point1 = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point2 = 2; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point3 = 3; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point4 = 4; // reference-tracked BaseShape
}
message XCubicBezierSegment {
   optional bcl.NetObjectProxy Point1 = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point2 = 2; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point3 = 3; // reference-tracked BaseShape
}
message XEllipse {
}
enum XFillRule {
   Nonzero = 0;
   EvenOdd = 1;
}
message XGroup {
   repeated bcl.NetObjectProxy Shapes = 1; // reference-tracked BaseShape
   repeated bcl.NetObjectProxy Connectors = 2; // reference-tracked BaseShape
}
message XImage {
   optional string Key = 1;
}
message XLine {
   optional bcl.NetObjectProxy Start = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy End = 2; // reference-tracked BaseShape
}
message XLineSegment {
   optional bcl.NetObjectProxy Point = 1; // reference-tracked BaseShape
}
message XPath {
   optional bcl.NetObjectProxy Geometry = 1; // reference-tracked XPathGeometry
}
message XPathFigure {
   optional bcl.NetObjectProxy StartPoint = 1; // reference-tracked BaseShape
   repeated bcl.NetObjectProxy Segments = 2; // reference-tracked XPathSegment
   optional bool IsFilled = 3;
   optional bool IsClosed = 4;
}
message XPathGeometry {
   repeated bcl.NetObjectProxy Figures = 1; // reference-tracked XPathFigure
   optional XFillRule FillRule = 2;
}
message XPathSegment {
   optional bool IsStroked = 1;
   optional bool IsSmoothJoin = 2;
   // the following represent sub-types; at most 1 should have a value
   optional XLineSegment XLineSegment = 101;
   optional XCubicBezierSegment XCubicBezierSegment = 102;
   optional XQuadraticBezierSegment XQuadraticBezierSegment = 103;
   optional XArcSegment XArcSegment = 104;
   optional XPolyLineSegment XPolyLineSegment = 105;
   optional XPolyCubicBezierSegment XPolyCubicBezierSegment = 106;
   optional XPolyQuadraticBezierSegment XPolyQuadraticBezierSegment = 107;
}
message XPathSize {
   optional double Width = 1;
   optional double Height = 2;
}
message XPoint {
   optional double X = 1;
   optional double Y = 2;
   optional bcl.NetObjectProxy Shape = 3; // reference-tracked BaseShape
}
message XPolyCubicBezierSegment {
   repeated bcl.NetObjectProxy Points = 1; // reference-tracked BaseShape
}
message XPolyLineSegment {
   repeated bcl.NetObjectProxy Points = 1; // reference-tracked BaseShape
}
message XPolyQuadraticBezierSegment {
   repeated bcl.NetObjectProxy Points = 1; // reference-tracked BaseShape
}
message XQuadraticBezier {
   optional bcl.NetObjectProxy Point1 = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point2 = 2; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point3 = 3; // reference-tracked BaseShape
}
message XQuadraticBezierSegment {
   optional bcl.NetObjectProxy Point1 = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy Point2 = 2; // reference-tracked BaseShape
}
message XRectangle {
   optional bool IsGrid = 1;
   optional double OffsetX = 2;
   optional double OffsetY = 3;
   optional double CellWidth = 4;
   optional double CellHeight = 5;
}
enum XSweepDirection {
   Clockwise = 0;
   Counterclockwise = 1;
}
message XText {
   optional bcl.NetObjectProxy TopLeft = 1; // reference-tracked BaseShape
   optional bcl.NetObjectProxy BottomRight = 2; // reference-tracked BaseShape
   optional string Text = 3;
   // the following represent sub-types; at most 1 should have a value
   optional XRectangle XRectangle = 101;
   optional XEllipse XEllipse = 102;
   optional XImage XImage = 103;
}
